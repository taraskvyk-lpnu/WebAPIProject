2024-03-30 10:29:06.102 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7178/api/regions - null null
2024-03-30 10:29:06.105 +02:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API)'
2024-03-30 10:29:06.105 +02:00 [INF] Route matched with {action = "GetAll", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAll() on controller NZWalks.API.Controllers.RegionsController (NZWalks.API).
2024-03-30 10:29:06.107 +02:00 [INF] Executing action method NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API) - Validation state: "Valid"
2024-03-30 10:29:06.107 +02:00 [INF] GetAll Regions Action Method was invoked
2024-03-30 10:29:06.110 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Code], [r].[Name], [r].[RegionImageUrl]
FROM [Regions] AS [r]
2024-03-30 10:29:06.112 +02:00 [INF] Finished GetAll Regions Method with data : [{"Id":"e924eb18-a9b4-4a5d-0b8c-08dc508e6b14","Code":"Lvv","Name":"Lviv","RegionImageUrl":"https://lh6.googleusercontent.com/proxy/pghl7yWud-iPK3xSg3so78Hcbd2lLS81grqEopan_KhtYbG_E33Zbb6HOMqy5ba5K18o-O-_kQpnxYk5QEuRwGPMkoMOL9Plv7PR2-qcxNCvsDP-Mx7RHf7lrNHrkjyF3iT3jHtTGSkmoe0ARL-N9KpkaN3QDxE=w675-h390-n-k-no"},{"Id":"8c6f7f7c-0aa1-4ec9-0b8d-08dc508e6b14","Code":"Lvv","Name":"Lviv","RegionImageUrl":"Lvvvviviviviv"},{"Id":"12c0e0f9-88cf-462d-23f3-08dc508e9785","Code":"Kyi","Name":"Kyiv","RegionImageUrl":"fffff"},{"Id":"906cb139-415a-4bbb-a174-1a1faf9fb1f6","Code":"NSN","Name":"Nelson","RegionImageUrl":"https://images.pexels.com/photos/13918194/pexels-photo-13918194.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"f7248fc3-2585-4efb-8d1d-1c555f4087f6","Code":"AKL","Name":"Auckland","RegionImageUrl":"https://images.pexels.com/photos/5169056/pexels-photo-5169056.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"14ceba71-4b51-4777-9b17-46602cf66153","Code":"BOP","Name":"Bay Of Plenty","RegionImageUrl":null},{"Id":"6884f7d7-ad1f-4101-8df3-7a6fa7387d81","Code":"NTL","Name":"Northland","RegionImageUrl":null},{"Id":"f077a22e-4248-4bf6-b564-c7cf4e250263","Code":"STL","Name":"Southland","RegionImageUrl":null},{"Id":"cfa06ed2-bf65-4b65-93ed-c9d286ddb0de","Code":"WGN","Name":"Wellington","RegionImageUrl":"https://images.pexels.com/photos/4350631/pexels-photo-4350631.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"}]
2024-03-30 10:29:06.114 +02:00 [INF] Executed action method NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.7051ms.
2024-03-30 10:29:06.115 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZWalks.API.Models.DTO.RegionDTO, NZWalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-30 10:29:06.116 +02:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API) in 9.6074ms
2024-03-30 10:29:06.117 +02:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API)'
2024-03-30 10:29:06.118 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7178/api/regions - 200 null application/json; charset=utf-8 16.3982ms
2024-03-30 10:29:23.031 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7178/api/regions - null null
2024-03-30 10:29:23.032 +02:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API)'
2024-03-30 10:29:23.033 +02:00 [INF] Route matched with {action = "GetAll", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAll() on controller NZWalks.API.Controllers.RegionsController (NZWalks.API).
2024-03-30 10:29:23.035 +02:00 [INF] Executing action method NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API) - Validation state: "Valid"
2024-03-30 10:29:23.036 +02:00 [INF] GetAll Regions Action Method was invoked
2024-03-30 10:29:23.037 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Code], [r].[Name], [r].[RegionImageUrl]
FROM [Regions] AS [r]
2024-03-30 10:29:23.039 +02:00 [INF] Finished GetAll Regions Method with data : [{"Id":"e924eb18-a9b4-4a5d-0b8c-08dc508e6b14","Code":"Lvv","Name":"Lviv","RegionImageUrl":"https://lh6.googleusercontent.com/proxy/pghl7yWud-iPK3xSg3so78Hcbd2lLS81grqEopan_KhtYbG_E33Zbb6HOMqy5ba5K18o-O-_kQpnxYk5QEuRwGPMkoMOL9Plv7PR2-qcxNCvsDP-Mx7RHf7lrNHrkjyF3iT3jHtTGSkmoe0ARL-N9KpkaN3QDxE=w675-h390-n-k-no"},{"Id":"8c6f7f7c-0aa1-4ec9-0b8d-08dc508e6b14","Code":"Lvv","Name":"Lviv","RegionImageUrl":"Lvvvviviviviv"},{"Id":"12c0e0f9-88cf-462d-23f3-08dc508e9785","Code":"Kyi","Name":"Kyiv","RegionImageUrl":"fffff"},{"Id":"906cb139-415a-4bbb-a174-1a1faf9fb1f6","Code":"NSN","Name":"Nelson","RegionImageUrl":"https://images.pexels.com/photos/13918194/pexels-photo-13918194.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"f7248fc3-2585-4efb-8d1d-1c555f4087f6","Code":"AKL","Name":"Auckland","RegionImageUrl":"https://images.pexels.com/photos/5169056/pexels-photo-5169056.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"},{"Id":"14ceba71-4b51-4777-9b17-46602cf66153","Code":"BOP","Name":"Bay Of Plenty","RegionImageUrl":null},{"Id":"6884f7d7-ad1f-4101-8df3-7a6fa7387d81","Code":"NTL","Name":"Northland","RegionImageUrl":null},{"Id":"f077a22e-4248-4bf6-b564-c7cf4e250263","Code":"STL","Name":"Southland","RegionImageUrl":null},{"Id":"cfa06ed2-bf65-4b65-93ed-c9d286ddb0de","Code":"WGN","Name":"Wellington","RegionImageUrl":"https://images.pexels.com/photos/4350631/pexels-photo-4350631.jpeg?auto=compress\u0026cs=tinysrgb\u0026w=1260\u0026h=750\u0026dpr=1"}]
2024-03-30 10:29:23.042 +02:00 [INF] Executed action method NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.9051ms.
2024-03-30 10:29:23.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NZWalks.API.Models.DTO.RegionDTO, NZWalks.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-03-30 10:29:23.043 +02:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API) in 9.0617ms
2024-03-30 10:29:23.044 +02:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.GetAll (NZWalks.API)'
2024-03-30 10:29:23.045 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7178/api/regions - 200 null application/json; charset=utf-8 14.5367ms
2024-03-30 10:29:29.202 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7178/api/regions/8c6f7f7c-0aa1-4ec9-0b8d-08dc508e6b14 - null null
2024-03-30 10:29:29.205 +02:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.Delete (NZWalks.API)'
2024-03-30 10:29:29.213 +02:00 [INF] Route matched with {action = "Delete", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller NZWalks.API.Controllers.RegionsController (NZWalks.API).
2024-03-30 10:29:29.228 +02:00 [INF] Executing action method NZWalks.API.Controllers.RegionsController.Delete (NZWalks.API) - Validation state: "Valid"
2024-03-30 10:29:29.334 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Code], [r].[Name], [r].[RegionImageUrl]
FROM [Regions] AS [r]
WHERE [r].[Id] = @__id_0
2024-03-30 10:29:29.444 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p0;
2024-03-30 10:29:29.470 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Regions]
OUTPUT 1
WHERE [Id] = @p0;
2024-03-30 10:29:29.478 +02:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.Delete (NZWalks.API) in 263.5133ms
2024-03-30 10:29:29.480 +02:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.Delete (NZWalks.API)'
2024-03-30 10:29:29.481 +02:00 [ERR] 7eb3a9bf-32e4-4551-aa61-ba0fbb4cf7e7 : The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at NZWalks.API.Controllers.RegionsController.Delete(Guid id) in D:\Тарас\Курси\Udemy\Web API ASP.NET Core\My Result\NZWalks\NZWalks\NZWalks.API\Controllers\RegionsController.cs:line 131
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NZWalks.API.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in D:\Тарас\Курси\Udemy\Web API ASP.NET Core\My Result\NZWalks\NZWalks\NZWalks.API\Middlewares\ExceptionHandlerMiddleware.cs:line 20
2024-03-30 10:29:29.516 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7178/api/regions/8c6f7f7c-0aa1-4ec9-0b8d-08dc508e6b14 - 500 null application/json; charset=utf-8 313.7993ms
